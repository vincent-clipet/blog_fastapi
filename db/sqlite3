-- CREATE DATABASE IF NOT EXISTS fastapi;

CREATE TABLE IF NOT EXISTS users (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
   	email TEXT NOT NULL UNIQUE,
	password TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS articles (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
   	title TEXT NOT NULL UNIQUE,
	content TEXT,
	FOREIGN KEY(author_id) REFERENCES users(id)
);

CREATE TABLE IF NOT EXISTS tags (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
   	name TEXT NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS articles_tags (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	FOREIGN KEY(article_id) REFERENCES articles(id),
	FOREIGN KEY(tag_id) REFERENCES tags(id)
);
